<div [ngClass]="{ 'sidebar-collapsed': isSidebarCollapsed }" class="sidebar">
  <div class="sidebar-menu">
    <!-- Logo -->
    <div class="sidebar-logo">
      <a routerLink="/" style="padding: 0.75rem 1rem;">
        @if (isSidebarCollapsed) {
          <span class="logo-sm">
            <img src="https://perenitysoftware.com/wp-content/uploads/2020/05/perenity_software.png" height="30">
          </span>
        } @else {
          <span class="logo-lg">
            <img src="https://perenitysoftware.com/wp-content/uploads/2020/05/logo-perenity-software.svg" height="30">
          </span>
        }


      </a>
    </div>

    <!-- Menu Items -->
    <ul class="sidebar-menu-list">
      @for (section of sections; track $index; let i = $index) {
        <li class="sidebar-section">
          <!-- Section Header -->
          <div class="section-header" (click)="toggleSection(i)">
            <i [class]="section.icon"></i>
            @if (!isSidebarCollapsed) {
              <span class="section-title">{{ section.title }}</span>
            }
            @if (!isSidebarCollapsed && section.items?.length) {
              <i class="fas fa-chevron-down" [class.collapsed]="section.collapsed"></i>
            }
          </div>

          <!-- Section Items -->
          @if (section.items?.length && !section.collapsed && !isSidebarCollapsed) {
            <ul class="section-items">
              @for (item of section.items; track item.label) {
                <li>
                  <a [routerLink]="item.route" routerLinkActive="active" [routerLinkActiveOptions]="{ exact: false }">
                    <i [class]="item.icon"></i>
                    <span class="item-label">{{ item.label }}</span>
                  </a>
                </li>
              }
            </ul>
          }
        </li>
      }
    </ul>
  </div>
</div>
